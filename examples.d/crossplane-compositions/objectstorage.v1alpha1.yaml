# apiVersion: apiextensions.crossplane.io/v1
# kind: Composition
# metadata:
#   name: objectstorage.example.org
# spec:
#   compositeTypeRef:
#     apiVersion: example.org/v1alpha1
#     kind: ObjectStorage
#   mode: Pipeline
#   pipeline:
#     - step: patch-and-transform
#       functionRef:
#         name: function-patch-and-transform
#       input:
#         apiVersion: pt.fn.crossplane.io/v1beta1
#         kind: Resources
#         resources:
#           - name: bucket
#             base:
#               apiVersion: s3.aws.crossplane.io/v1beta1
#               kind: Bucket
#               spec:
#                 forProvider:
#                   locationConstraint: "" # patched
#                 providerConfigRef:
#                   name: default
#             patches:
#               - fromFieldPath: "spec.location"
#                 toFieldPath: "spec.forProvider.locationConstraint"
#               - fromFieldPath: "spec.name"
#                 toFieldPath: "metadata.name"
#     - step: automatically-detect-readiness
#       functionRef:
#         name: function-auto-ready
